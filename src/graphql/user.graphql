query SendEmailVerificationEmail($email: String!) {
    sendEmailVerificationEmail(email: $email)
}

mutation VerifyEmailAddress($token: String!) {
    verifyEmail(input: {token: $token}) {
        success
        errors {
            ... on UnauthorizedError {
                message
            }
        }
    }
}

query RequestPasswordRest($email: String!) {
    sendPasswordResetEmail(email: $email)
}

mutation ResetPassword($token: String!, $password: String!, $passwordConfirmation: String!) {
    resetPassword(input: {token: $token, newPassword: $password, newPasswordConfirmation: $passwordConfirmation}) {
        success
        errors {
            ... on InvalidInputError {
                message
            }

            ... on UnauthorizedError {
                message
            }
        }
    }
}

mutation UpdatePersonalInfo($email: String!, $firstName:String!, $lastName: String!, $phoneNumber: String!) {
    updatePersonalData(input: {email: $email, firstName: $firstName, lastName: $lastName, phoneNumber: $phoneNumber}) {
        personalDataEditResult {
            success
            emailChanged
        }

        errors {
            ...on InvalidInputError{
                message
            }
        }
    }
}

query GetUser {
    me {
        id
        email
        firstName
        lastName
        phoneNumber
        emailVerified
        billingDetails {
            lastName
            firstName
            country
            address
            state
            city
            postalCode
        }
        cart {
            items {
                product {
                    id
                    name
                    price
                    discount
                    coverImage
                }
                quantity
            }
            total
        }
    }
}

mutation UpdatePassword($oldPassword: String!, $password: String!, $passwordConfirmation: String!) {
    updatePassword(input: {oldPassword: $oldPassword, newPassword: $password, newPasswordConfirmation: $passwordConfirmation}) {
        updated
        errors {
            ... on InvalidInputError {
                message
            }
        }
    }
}

mutation UpdateBillingDetails($billingDetails: BillingDetailsInput!) {
    updateBillingDetails(input: {details: $billingDetails}) {
        updated
        errors {
            ... on InvalidInputError {
                message
            }
        }
    }
}